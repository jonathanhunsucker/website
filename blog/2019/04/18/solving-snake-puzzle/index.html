<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    <title>solving snake puzzle – Jonathan Hunsucker</title>

    <meta name="author" content="Jonathan Hunsucker" />

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="alternate" type="application/rss+xml" title="Jonathan Hunsucker" href="/feed.xml" />

    <!-- Created with Jekyll Now - http://github.com/barryclark/jekyll-now -->
  </head>

  <body>
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">
          <div class="site-info">
            <h1 class="site-name"><a href="/">Jonathan Hunsucker</a></h1>
          </div>
          
          <nav>
            <a href="/about">About</a>
            <a href="https://github.com/jonathanhunsucker">GitHub</a>
            <a href="https://instagram.com/jonathanhunsucker">Instagram</a>
          </nav>
        </header>
      </div>
    </div>

    <div id="main" role="main" class="container">
      <article class="post">
  <div class="date">April 18, 2019</div>
  <h1>solving snake puzzle</h1>
  <div class="entry"><p>The snake puzzle consists of 27 blocks, held together by an elastic string threaded through holes in each of the blocks. Some blocks have a straight hole connecting one side to the opposite. Some blocks have holes connecting one side to an adjacent side, creating a bend. The challenge of the puzzle, is to orient the blocks so that they form a cube, three blocks tall.</p>

<h4 id="finding-an-approach">Finding an approach</h4>
<p>After many hours toying around with it, I began to adopt a simple approach:</p>

<ol>
  <li>Fold the puzzle one segment at time (a segment being a run of straight-hole blocks)</li>
  <li>If a segment causes the solved portion of the puzzle to run outside of a 3x3x3 cube, unfold and try again</li>
</ol>

<p>After many more hours, I realized that my approach could be codified into a program, to simulate the puzzle and find a solution faster than one could by hand.</p>

<h4 id="finding-a-suitable-notation">Finding a suitable notation</h4>
<p>The puzzle’s configuration can be encoded as a list of segment lengths. For example, the puzzle I have on hand, is encoded like so:</p>
<div class="language-php highlighter-rouge"><pre class="highlight"><code>new Puzzle([3, 2, 2, 3, 2, 3, 2, 2, 3, 3, 2, 2, 2, 3, 3, 3, 3]);
</code></pre>
</div>
<p>All together, the list sums to 27, so <code class="highlighter-rouge">Puzzle</code> determines the goal is three-block-tall cube.</p>

<p>Many notations exist, though some are easier to work with than others. For example, a list of 27 values, one for each block, would also suffice. So might a 3D model of the puzzle.</p>

<h4 id="defining-the-solution">Defining the solution</h4>
<p>My puzzle had 17 segments. With four possible turns available at every segment connection, there are 16<sup>4</sup> = 65,536 possible arrangements, ignoring that a block can’t physically occupy the same space. Part of defining the solution is defining what is not the solution. Immediately, a few criteria for non-solutions stand out:</p>

<ul>
  <li>Incomplete - Not all segments used, the puzzle has one or more segments unaccounted for</li>
  <li>Overflows - Width, length, or height is greater than three</li>
  <li>Overlaps - Physically not possible, turning back on itself, two blocks in same space</li>
</ul>

<div class="language-php highlighter-rouge"><pre class="highlight"><code>$turns_so_far = [];
$unstarted_puzzle = new Solution($puzzle, $turns_so_far)
</code></pre>
</div>

<p>Every solution has to start somewhere. For the chosen notation, a <code class="highlighter-rouge">Solution</code> also captures in-progress work. It’s tightly coupled to <code class="highlighter-rouge">Cube</code>, which translates <code class="highlighter-rouge">Solution</code>’s turn-by-turn instructions into a list of discrete three-dimensional positions the blocks occupy. <code class="highlighter-rouge">Cube</code> also ensures the solution avoids breaking the overlaps and overflows criteria, via its <code class="highlighter-rouge">isValid()</code> function. The incomplete criteria is enforced via a separate <code class="highlighter-rouge">Solution-&gt;isComplete()</code> function.</p>

<h4 id="scaffolding-a-search">Scaffolding a search</h4>
<p>With a notation and solution space defined, the search begins. Similar to notations, there’s many suitable approaches to searching. The first to mind are breadth-first and depth-first.</p>

<h4 id="hastening-the-search">Hastening the search</h4>
<p>TBA</p>

<h4 id="deeper-understanding-of-the-puzzle">Deeper understanding of the puzzle</h4>
<p>With an automatic solver in hand, the puzzle can be characterized and understood deeper.</p>

<h5 id="how-many-solutions-for-this-configuration">How many solutions for this configuration?</h5>
<p>TBA</p>

<h5 id="how-many-solvable-3-tall-configurations">How many solvable 3-tall configurations?</h5>
<p>Same question as “how many traversals of a 3-tall cube exist?”. Begs questions:</p>

<ul>
  <li>Which traversals are consider the “same”? Does this change the quantity?</li>
  <li>Can we grade configurations on their difficulty?</li>
  <li>How many solvable 2-tall configurations? 4-tall?</li>
</ul>

<p>TBA</p>

<h4 id="summary">Summary</h4>
<p>TBA</p>

<h5 id="notes-to-self-while-authoring-this">Notes to self while authoring this</h5>
<ul>
  <li>Why didn’t I calculate out 16<sup>4</sup> from the beginning? I would have potentially taken a different approach, had I known the solution space was relatively small.</li>
  <li>How much of the solution is invalided by each criteria mentioned? Are their space-minimization worth their computational cost-savings? Is it possible, that adding more criteria, counterintuitively, slows the search down, since every candidate must be be checked, but maybe only a few candidates are invalidated?</li>
</ul>

<p>All code can be found <a href="https://github.com/jonathanhunsucker/cube-puzzle">here</a>.</p>
</div>
</article>

    </div>

    <div class="container">
      <footer class="footer">
        <span>All Rights Reserved &copy; 2019 Jonathan Hunsucker</span>
      </footer>
    </div>

    
	<!-- Google Analytics -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		
		ga('create', 'UA-10136968-8', 'auto');
		ga('send', 'pageview');
	</script>
	<!-- End Google Analytics -->


  </body>
</html>
